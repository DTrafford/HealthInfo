{"ast":null,"code":"import _classCallCheck from \"/Users/davidtrafford/MyDocuments/School/Semester5/COMP308/react/comp308_project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n///////////*****************//////// USERSTORE\nimport { apiUrl } from \"../../instances/instance\";\nimport { logIn, logOut, getPatients, createTip, getTips, addResults, getPatient, getConditions } from \"./function\";\nimport history from \"../../history\";\n\nvar UserStore = function UserStore() {\n  _classCallCheck(this, UserStore);\n};\n\nUserStore.patientRegister = function (patient) {\n  console.log(patient);\n  return function (dispatch) {\n    apiUrl.post(\"/patient/signup\", patient).then(function (patient) {\n      // dispatch(logIn(patient));\n      history.push(\"/login\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.employeeRegister = function (employee) {\n  return function (dispatch) {\n    apiUrl.post(\"/employee/signup\", employee).then(function (patient) {\n      // dispatch(logIn(employee));\n      history.push(\"/login\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.patientLogIn = function (patient) {\n  console.log(patient);\n  return function (dispatch) {\n    apiUrl.post(\"/patient/login\", patient).then(function (patient) {\n      dispatch(logIn(patient));\n      history.push(\"/patient\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.employeeLogIn = function (employee) {\n  return function (dispatch) {\n    apiUrl.post(\"/employee/login\", employee).then(function (employee) {\n      dispatch(logIn(employee));\n    }).then(function () {\n      apiUrl.get('/patient/patient_list').then(function (patients) {\n        dispatch(getPatients(patients));\n        history.push(\"/employee\");\n      });\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.createTip = function (tip) {\n  return function (dispatch) {\n    apiUrl.post(\"/tip\", tip).then(function (tip) {\n      dispatch(createTip(tip));\n      history.push(\"/employee\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.getTips = function () {\n  return function (dispatch) {\n    apiUrl.get('/tip').then(function (tips) {\n      dispatch(getTips(tips));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.addResults = function (id, results) {\n  console.log(id);\n  return function (dispatch) {\n    apiUrl.put('/patient/' + id, results).then(function (response) {\n      console.log(response);\n      history.push('patient_list');\n    });\n  };\n};\n\nUserStore.getPatient = function (id) {\n  console.log('IN GET PATIENT WITH ID ', id);\n  return function (dispatch) {\n    apiUrl.get('/patient/' + id).then(function (patient) {\n      dispatch(getPatient(patient));\n    });\n  };\n};\n\nUserStore.getConditions = function (symptoms) {\n  console.log('IN GET CONDITIONS WITH SYMPTOMS ', symptoms);\n  return function (dispatch) {\n    apiUrl.post('/condition', symptoms).then(function (conditions) {\n      console.log(conditions);\n      dispatch(getConditions(conditions));\n    });\n  };\n};\n\nUserStore.logOut = function () {\n  return function (dispatch) {\n    dispatch(logOut());\n    history.push(\"/\");\n  };\n};\n\nexport { UserStore as default };","map":{"version":3,"sources":["/Users/davidtrafford/MyDocuments/School/Semester5/COMP308/react/comp308_project/client/src/store/user/UserStore.js"],"names":["apiUrl","logIn","logOut","getPatients","createTip","getTips","addResults","getPatient","getConditions","history","UserStore","patientRegister","patient","console","log","dispatch","post","then","push","catch","err","employeeRegister","employee","patientLogIn","employeeLogIn","get","patients","tip","tips","id","results","put","response","symptoms","conditions"],"mappings":"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","sourcesContent":["///////////*****************//////// USERSTORE\n\nimport { apiUrl } from \"../../instances/instance\";\nimport { logIn, logOut, getPatients, createTip, getTips, addResults, getPatient, getConditions } from \"./function\";\nimport history from \"../../history\";\nexport default class UserStore {\n  // pull data /////\n  static patientRegister = patient => {\n    console.log(patient);\n    return dispatch => {\n      apiUrl\n        .post(\"/patient/signup\", patient)\n        .then(patient => {\n          // dispatch(logIn(patient));\n          history.push(\"/login\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static employeeRegister = employee => {\n    return dispatch => {\n      apiUrl\n        .post(\"/employee/signup\", employee)\n        .then(patient => {\n          // dispatch(logIn(employee));\n          history.push(\"/login\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static patientLogIn = patient => {\n    console.log(patient);\n    return dispatch => {\n      apiUrl\n        .post(\"/patient/login\", patient)\n        .then(patient => {\n          dispatch(logIn(patient));\n          history.push(\"/patient\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static employeeLogIn = employee => {\n    return dispatch => {\n      apiUrl\n        .post(\"/employee/login\", employee)\n        .then(employee => {\n          dispatch(logIn(employee));\n        })\n        .then(() => {\n          apiUrl.get('/patient/patient_list')\n          .then(patients => {\n            dispatch(getPatients(patients));\n            history.push(\"/employee\");\n          })\n        })\n        .catch(err => {\n          console.log(err);\n        });\n\n    };\n  };\n  static createTip = (tip) => {\n    return dispatch => {\n      apiUrl\n        .post(\"/tip\", tip)\n        .then(tip => {\n          dispatch(createTip(tip));\n          history.push(\"/employee\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static getTips = () => {\n    return dispatch => {\n      apiUrl.get('/tip')\n      .then(tips => {\n        dispatch(getTips(tips))\n      })\n      .catch(err => {\n        console.log(err);\n      })\n    }\n  }\n  static addResults = (id, results) => {\n    console.log(id);\n    return dispatch => {\n      apiUrl.put('/patient/' + id, results)\n      .then(response => {\n        console.log(response)\n        history.push('patient_list');\n      })\n    }\n  }\n  static getPatient = (id) => {\n    console.log('IN GET PATIENT WITH ID ', id);\n    return dispatch => {\n      apiUrl.get('/patient/' + id)\n      .then(patient => {\n        dispatch(getPatient(patient));\n      })\n    }\n  }\n  static getConditions = (symptoms) => {\n    console.log('IN GET CONDITIONS WITH SYMPTOMS ', symptoms);\n    return dispatch => {\n      apiUrl.post('/condition', symptoms)\n      .then(conditions => {\n        console.log(conditions);\n        dispatch(getConditions(conditions));\n      })\n    }\n  }\n  static logOut = () => {\n    return dispatch => {\n      dispatch(logOut());\n      history.push(\"/\");\n    };\n  };\n}\n"]},"metadata":{},"sourceType":"module"}