{"ast":null,"code":"import _classCallCheck from \"/Users/davidtrafford/Documents/School/Cyber/CloudSecurity/KOBE/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n///////////*****************//////// USERSTORE\nimport { apiUrl } from \"../../instances/instance\";\nimport { logIn, logOut, getPatients, createTip, getTips, deleteTip, createPost, getPosts, addResults, getPatient, getConditions } from \"./function\";\nimport history from \"../../history\";\n\nvar UserStore = function UserStore() {\n  _classCallCheck(this, UserStore);\n};\n\nUserStore.patientRegister = function (patient) {\n  return function (dispatch) {\n    apiUrl.post(\"/patient/signup\", patient).then(function (patient) {\n      // dispatch(logIn(patient));\n      history.push(\"/login\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.employeeRegister = function (employee) {\n  return function (dispatch) {\n    apiUrl.post(\"/employee/signup\", employee).then(function (patient) {\n      // dispatch(logIn(employee));\n      history.push(\"/login\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.patientLogIn = function (patient) {\n  return function (dispatch) {\n    apiUrl.post(\"/patient/login\", patient).then(function (patient) {\n      dispatch(logIn(patient));\n      history.push(\"/patient\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.employeeLogIn = function (employee) {\n  return function (dispatch) {\n    apiUrl.post(\"/employee/login\", employee).then(function (employee) {\n      dispatch(logIn(employee));\n    }).then(function () {\n      apiUrl.get(\"/patient/patient_list\").then(function (patients) {\n        dispatch(getPatients(patients));\n        history.push(\"/employee\");\n      });\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.createTip = function (tip) {\n  return function (dispatch) {\n    apiUrl.post(\"/tip\", tip).then(function (tip) {\n      dispatch(createTip(tip));\n      history.push(\"/employee\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.getTips = function () {\n  return function (dispatch) {\n    apiUrl.get(\"/tip\").then(function (tips) {\n      dispatch(getTips(tips));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.createPost = function (post, user) {\n  console.log(\"POST = \", post);\n  console.log(\"USER = \", user);\n  return function (dispatch) {\n    apiUrl.post(\"/posts\", post, {\n      headers: {\n        Authorization: \"Bearer \" + user.token\n      }\n    }).then(function (tip) {\n      dispatch(createTip(post));\n      history.push(\"/patient\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.getPosts = function () {\n  return function (dispatch) {\n    apiUrl.get(\"/posts\").then(function (posts) {\n      console.log(posts);\n      dispatch(getPosts(posts));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.addResults = function (id, results) {\n  console.log(id);\n  return function (dispatch) {\n    apiUrl.put(\"/patient/\" + id, results).then(function (response) {\n      history.push(\"patient_list\");\n    });\n  };\n};\n\nUserStore.getPatient = function (id) {\n  return function (dispatch) {\n    apiUrl.get(\"/patient/\" + id).then(function (patient) {\n      dispatch(getPatient(patient));\n    });\n  };\n};\n\nUserStore.getConditions = function (symptoms) {\n  var request = {\n    symptoms: symptoms\n  };\n  return function (dispatch) {\n    apiUrl.post(\"/condition\", symptoms).then(function (conditions) {\n      dispatch(getConditions(conditions));\n    });\n  };\n};\n\nUserStore.deleteTip = function (tip) {\n  return function (dispatch) {\n    apiUrl.delete(\"/tip/\" + tip._id).then(function (response) {\n      dispatch(deleteTip(tip));\n      history.push(\"/health_tips\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.logOut = function () {\n  return function (dispatch) {\n    dispatch(logOut());\n    history.push(\"/\");\n  };\n};\n\nexport { UserStore as default };","map":{"version":3,"sources":["/Users/davidtrafford/Documents/School/Cyber/CloudSecurity/KOBE/client/src/store/user/UserStore.js"],"names":["apiUrl","logIn","logOut","getPatients","createTip","getTips","deleteTip","createPost","getPosts","addResults","getPatient","getConditions","history","UserStore","patientRegister","patient","dispatch","post","then","push","catch","err","console","log","employeeRegister","employee","patientLogIn","employeeLogIn","get","patients","tip","tips","user","headers","Authorization","token","posts","id","results","put","response","symptoms","request","conditions","delete","_id"],"mappings":"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","sourcesContent":["///////////*****************//////// USERSTORE\n\nimport { apiUrl } from \"../../instances/instance\";\nimport {\n  logIn,\n  logOut,\n  getPatients,\n  createTip,\n  getTips,\n  deleteTip,\n  createPost,\n  getPosts,\n  addResults,\n  getPatient,\n  getConditions\n} from \"./function\";\nimport history from \"../../history\";\nexport default class UserStore {\n  // pull data /////\n  static patientRegister = patient => {\n    return dispatch => {\n      apiUrl\n        .post(\"/patient/signup\", patient)\n        .then(patient => {\n          // dispatch(logIn(patient));\n          history.push(\"/login\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static employeeRegister = employee => {\n    return dispatch => {\n      apiUrl\n        .post(\"/employee/signup\", employee)\n        .then(patient => {\n          // dispatch(logIn(employee));\n          history.push(\"/login\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static patientLogIn = patient => {\n    return dispatch => {\n      apiUrl\n        .post(\"/patient/login\", patient)\n        .then(patient => {\n          dispatch(logIn(patient));\n          history.push(\"/patient\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static employeeLogIn = employee => {\n    return dispatch => {\n      apiUrl\n        .post(\"/employee/login\", employee)\n        .then(employee => {\n          dispatch(logIn(employee));\n        })\n        .then(() => {\n          apiUrl.get(\"/patient/patient_list\").then(patients => {\n            dispatch(getPatients(patients));\n            history.push(\"/employee\");\n          });\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static createTip = tip => {\n    return dispatch => {\n      apiUrl\n        .post(\"/tip\", tip)\n        .then(tip => {\n          dispatch(createTip(tip));\n          history.push(\"/employee\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static getTips = () => {\n    return dispatch => {\n      apiUrl\n        .get(\"/tip\")\n        .then(tips => {\n          dispatch(getTips(tips));\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static createPost = (post, user) => {\n    console.log(\"POST = \", post);\n    console.log(\"USER = \", user);\n    return dispatch => {\n      apiUrl\n        .post(\"/posts\", post, {\n          headers: { Authorization: \"Bearer \" + user.token }\n        })\n        .then(tip => {\n          dispatch(createTip(post));\n          history.push(\"/patient\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  // static addReply = ()\n  static getPosts = () => {\n    return dispatch => {\n      apiUrl\n        .get(\"/posts\")\n        .then(posts => {\n          console.log(posts);\n          dispatch(getPosts(posts));\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static addResults = (id, results) => {\n    console.log(id);\n    return dispatch => {\n      apiUrl.put(\"/patient/\" + id, results).then(response => {\n        history.push(\"patient_list\");\n      });\n    };\n  };\n  static getPatient = id => {\n    return dispatch => {\n      apiUrl.get(\"/patient/\" + id).then(patient => {\n        dispatch(getPatient(patient));\n      });\n    };\n  };\n  static getConditions = symptoms => {\n    const request = {\n      symptoms: symptoms\n    };\n    return dispatch => {\n      apiUrl.post(\"/condition\", symptoms).then(conditions => {\n        dispatch(getConditions(conditions));\n      });\n    };\n  };\n  static deleteTip = tip => {\n    return dispatch => {\n      apiUrl\n        .delete(\"/tip/\" + tip._id)\n        .then(response => {\n          dispatch(deleteTip(tip));\n          history.push(\"/health_tips\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    };\n  };\n  static logOut = () => {\n    return dispatch => {\n      dispatch(logOut());\n      history.push(\"/\");\n    };\n  };\n}\n"]},"metadata":{},"sourceType":"module"}