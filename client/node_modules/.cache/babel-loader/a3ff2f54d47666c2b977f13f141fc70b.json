{"ast":null,"code":"import _classCallCheck from \"/Users/davidtrafford/Documents/Coding/JavaScript/React/HealthInfo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n///////////*****************//////// USERSTORE\nimport { apiUrl } from \"../../instances/instance\";\nimport { logIn, logOut, getPatients, createTip, getTips, deleteTip, createPost, getPosts, addReply, getPatient, getConditions } from \"./function\";\nimport history from \"../../history\";\nimport Cookies from \"universal-cookie\";\nvar cookies = new Cookies();\n\nvar UserStore = function UserStore() {\n  _classCallCheck(this, UserStore);\n};\n\nUserStore.patientRegister = function (patient) {\n  return function (dispatch) {\n    apiUrl.post(\"/patient/signup\", patient).then(function (patient) {\n      history.push(\"/login\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.employeeRegister = function (employee) {\n  return function (dispatch) {\n    apiUrl.post(\"/employee/signup\", employee).then(function (patient) {\n      history.push(\"/login\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.patientLogIn = function (patient) {\n  return function (dispatch) {\n    apiUrl.post(\"/patient/login\", patient).then(function (patient) {\n      cookies.set(\"token\", patient.data.token, {\n        path: \"/\"\n      });\n      dispatch(logIn(patient));\n      history.push(\"/patient\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.employeeLogIn = function (employee) {\n  return function (dispatch) {\n    apiUrl.post(\"/employee/login\", employee).then(function (employee) {\n      dispatch(logIn(employee));\n    }).then(function () {\n      apiUrl.get(\"/patient/patient_list\").then(function (patients) {\n        dispatch(getPatients(patients));\n        history.push(\"/employee\");\n      });\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.createTip = function (tip) {\n  return function (dispatch) {\n    apiUrl.post(\"/tip\", tip).then(function (tip) {\n      dispatch(createTip(tip));\n      history.push(\"/employee\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.getTips = function () {\n  return function (dispatch) {\n    apiUrl.get(\"/tip\").then(function (tips) {\n      dispatch(getTips(tips));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.createPost = function (post, user) {\n  return function (dispatch) {\n    apiUrl.post(\"/posts\", post, {\n      headers: {\n        Authorization: \"Bearer \" + user.token\n      }\n    }).then(function (post) {\n      dispatch(createPost(post));\n      history.push(\"/patient\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.addReply = function (post, user) {\n  var postId = post._id;\n  return function (dispatch) {\n    apiUrl.put(\"/posts/\" + postId + \"/addReply\", post, {\n      headers: {\n        Authorization: \"Bearer \" + user.token\n      }\n    }).then(function (post) {\n      dispatch(addReply(post));\n      history.push(\"/patient\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.getPosts = function () {\n  return function (dispatch) {\n    apiUrl.get(\"/posts\").then(function (posts) {\n      dispatch(getPosts(posts));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.addResults = function (id, results) {\n  return function (dispatch) {\n    apiUrl.put(\"/patient/\" + id, results).then(function (response) {\n      history.push(\"patient_list\");\n    });\n  };\n};\n\nUserStore.getPatient = function (id) {\n  return function (dispatch) {\n    apiUrl.get(\"/patient/\" + id).then(function (patient) {\n      dispatch(getPatient(patient));\n    });\n  };\n};\n\nUserStore.getConditions = function (symptoms) {\n  return function (dispatch) {\n    apiUrl.post(\"/condition\", symptoms).then(function (conditions) {\n      dispatch(getConditions(conditions));\n    });\n  };\n};\n\nUserStore.deleteTip = function (tip) {\n  return function (dispatch) {\n    apiUrl.delete(\"/tip/\" + tip._id).then(function (response) {\n      dispatch(deleteTip(tip));\n      history.push(\"/health_tips\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\n\nUserStore.logOut = function () {\n  return function (dispatch) {\n    dispatch(logOut());\n    history.push(\"/\");\n  };\n};\n\nexport { UserStore as default };","map":{"version":3,"sources":["/Users/davidtrafford/Documents/Coding/JavaScript/React/HealthInfo/client/src/store/user/UserStore.js"],"names":["apiUrl","logIn","logOut","getPatients","createTip","getTips","deleteTip","createPost","getPosts","addReply","getPatient","getConditions","history","Cookies","cookies","UserStore","patientRegister","patient","dispatch","post","then","push","catch","err","console","log","employeeRegister","employee","patientLogIn","set","data","token","path","employeeLogIn","get","patients","tip","tips","user","headers","Authorization","postId","_id","put","posts","addResults","id","results","response","symptoms","conditions","delete"],"mappings":"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","sourcesContent":["///////////*****************//////// USERSTORE\n\nimport { apiUrl } from \"../../instances/instance\";\nimport {\n  logIn,\n  logOut,\n  getPatients,\n  createTip,\n  getTips,\n  deleteTip,\n  createPost,\n  getPosts,\n  addReply,\n  getPatient,\n  getConditions,\n} from \"./function\";\nimport history from \"../../history\";\nimport Cookies from \"universal-cookie\";\nconst cookies = new Cookies();\n\nexport default class UserStore {\n  // pull data /////\n  static patientRegister = (patient) => {\n    return (dispatch) => {\n      apiUrl\n        .post(\"/patient/signup\", patient)\n        .then((patient) => {\n          history.push(\"/login\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static employeeRegister = (employee) => {\n    return (dispatch) => {\n      apiUrl\n        .post(\"/employee/signup\", employee)\n        .then((patient) => {\n          history.push(\"/login\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static patientLogIn = (patient) => {\n    return (dispatch) => {\n      apiUrl\n        .post(\"/patient/login\", patient)\n        .then((patient) => {\n          cookies.set(\"token\", patient.data.token, { path: \"/\" });\n          dispatch(logIn(patient));\n          history.push(\"/patient\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static employeeLogIn = (employee) => {\n    return (dispatch) => {\n      apiUrl\n        .post(\"/employee/login\", employee)\n        .then((employee) => {\n          dispatch(logIn(employee));\n        })\n        .then(() => {\n          apiUrl.get(\"/patient/patient_list\").then((patients) => {\n            dispatch(getPatients(patients));\n            history.push(\"/employee\");\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static createTip = (tip) => {\n    return (dispatch) => {\n      apiUrl\n        .post(\"/tip\", tip)\n        .then((tip) => {\n          dispatch(createTip(tip));\n          history.push(\"/employee\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static getTips = () => {\n    return (dispatch) => {\n      apiUrl\n        .get(\"/tip\")\n        .then((tips) => {\n          dispatch(getTips(tips));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static createPost = (post, user) => {\n    return (dispatch) => {\n      apiUrl\n        .post(\"/posts\", post, {\n          headers: { Authorization: \"Bearer \" + user.token },\n        })\n        .then((post) => {\n          dispatch(createPost(post));\n          history.push(\"/patient\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static addReply = (post, user) => {\n    const postId = post._id;\n    return (dispatch) => {\n      apiUrl\n        .put(\"/posts/\" + postId + \"/addReply\", post, {\n          headers: { Authorization: \"Bearer \" + user.token },\n        })\n        .then((post) => {\n          dispatch(addReply(post));\n          history.push(\"/patient\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static getPosts = () => {\n    return (dispatch) => {\n      apiUrl\n        .get(\"/posts\")\n        .then((posts) => {\n          dispatch(getPosts(posts));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static addResults = (id, results) => {\n    return (dispatch) => {\n      apiUrl.put(\"/patient/\" + id, results).then((response) => {\n        history.push(\"patient_list\");\n      });\n    };\n  };\n  static getPatient = (id) => {\n    return (dispatch) => {\n      apiUrl.get(\"/patient/\" + id).then((patient) => {\n        dispatch(getPatient(patient));\n      });\n    };\n  };\n  static getConditions = (symptoms) => {\n    return (dispatch) => {\n      apiUrl.post(\"/condition\", symptoms).then((conditions) => {\n        dispatch(getConditions(conditions));\n      });\n    };\n  };\n  static deleteTip = (tip) => {\n    return (dispatch) => {\n      apiUrl\n        .delete(\"/tip/\" + tip._id)\n        .then((response) => {\n          dispatch(deleteTip(tip));\n          history.push(\"/health_tips\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  };\n  static logOut = () => {\n    return (dispatch) => {\n      dispatch(logOut());\n      history.push(\"/\");\n    };\n  };\n}\n"]},"metadata":{},"sourceType":"module"}